<VirtualHost *:80>
    
    RewriteEngine On 
    RewriteCond %{HTTPS}  !=on 
    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,L] 

    UseCanonicalName On    

    DocumentRoot /home/eleicao
    
    <Directory /home/eleicao>
            Options All
            AllowOverride All
            Require all granted
    </Directory>

    <Directory /home/eleicao/static>
            Options All
            AllowOverride All
            Require all granted
    </Directory>

    <Directory /home/eleicao/media>
            Options All
            AllowOverride All
            Require all granted
    </Directory>

    <Directory /home/eleicao>
            Options All
            AllowOverride All
            Require all granted
           <Files wsgi.py>
                    Order deny,allow
                    Allow from all
                    Require all granted
            </Files>
    </Directory>

    ErrorLog /var/log/apache2/error.log
        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
    LogLevel info
    CustomLog /var/log/apache2/eleicao-access-443.log combined
</VirtualHost>

WSGIApplicationGroup %{GLOBAL}
WSGIDaemonProcess eleicao display-name=%{GROUP} python-path=/home/eleicao:/venv/lib/python2.7:/venv/lib/python2.7/site-packages
WSGIScriptAlias / /home/eleicao/wsgi.py
WSGIProcessGroup eleicao
